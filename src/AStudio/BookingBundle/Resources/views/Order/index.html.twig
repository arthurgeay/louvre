{% extends "AStudioBookingBundle::layout.html.twig" %}

{% block stylesheets %}
  {{ parent() }}
    {% stylesheets 'datetimepicker/jquery.datetimepicker.css' %}
      <link rel="stylesheet" href="{{ asset_url }}">
    {% endstylesheets %}
{% endblock %}


{% block order_body %}
  <div class="page-header page-header-small clear-filter" filter-color="orange">
    <div class="page-header-image" data-parallax="true" style="background-image: url('{{ asset('img/louvre-facade.jpeg') }}');">
    </div>
    <div class="container">
      <div class="content-center">
        <div class="text-center">
          <h1 class="title">{{ 'Réserver votre billet'|trans }}</h1>
        </div>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="container">
      <div class="well">
        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
        
        
        {# Les erreurs générales du formulaire. #}
        
        {# Génération manuelle et éclatée : #}
        <div class="form-group centered">
          <div class="col-md-6">
            {{ form_errors(form) }}
            {# Génération du label. #}
            
            {# Affichage des erreurs pour ce champ précis. #}
            {% if form.nbTicket.vars.errors|length > 0 %}
              <div class="alert alert-danger">
                {{ form_errors(form.nbTicket) }}
              </div>
            {% endif %}
            
            {# Génération de l'input. #}
            {{ form_widget(form.nbTicket, {'attr': {'placeholder': 'Nombre de billet'|trans, 'min': '1'}}) }}
          </div>
        </div>
        
        <div class="form-group centered">
          
          <div class="col-md-6">
            {# Affichage des erreurs pour ce champ précis. #}
            {% if form.dateVisit.vars.errors|length > 0 %}
              <div class="alert alert-danger">
                {{ form_errors(form.dateVisit) }}
              </div>
            {% endif %}
            <div class="input-group date">
              {# Génération de l'input. #}
              {{ form_widget(form.dateVisit, {'attr': {'placeholder': 'Date de la visite'|trans }}) }}
              <span class="input-group-addon"><i class="fa fa-calendar fa-lg" aria-hidden="true"></i></span>
            </div>
            
          </div>
        </div>
        
        <div class="form-group centered">
          
          <div class="col-md-6">
            
            {% if form.type.vars.errors|length > 0 %}
              <div class="alert alert-danger">
                {{ form_errors(form.type) }}
              </div>
            {% endif %}
            
            
            {{ form_widget(form.type) }}
            
          </div>
        </div>
        
        <div class="form-group centered">
          
          <div class="col-md-6">
            
            {% if form.name.vars.errors|length > 0 %}
              <div class="alert alert-danger">
                {{ form_errors(form.name) }}
              </div>
            {% endif %}
            
            {{ form_widget(form.name, {'attr': {'placeholder': 'Prénom'|trans }}) }}
            
          </div>
        </div>
        
        {# Idem pour un autre champ. #}
        <div class="form-group centered">
          
          <div class="col-md-6">
            {% if form.mail.vars.errors|length > 0 %}
              <div class="alert alert-danger">
                {{ form_errors(form.mail) }}
              </div>
            {% endif %}
            
            {{ form_widget(form.mail, {'attr': {'placeholder': 'Adresse e-mail'|trans }}) }}
            
          </div>
        </div>
        {# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
        <div class="form-group centered">
          <div class="col-md-6">
            <button type="submit" class="btn btn-primary btn-round btn-lg btn-block"><i class="fa fa-arrow-right" aria-hidden="true"></i> {{ 'Continuer'|trans }}</button>
          </div>
          
        </div>
        
        
        {# Génération automatique des champs pas encore écrits.
        Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
        et tous les champs cachés (type « hidden »). #}
        {{ form_rest(form) }}
        
        {# Fermeture de la balise <form> du formulaire HTML #}
          {{ form_end(form) }}
        </div>
      </div>
    </div>
  {% endblock %}

  {% block javascripts %}
    {{ parent() }}
    {% javascripts 'datetimepicker/build/jquery.datetimepicker.full.min.js'
                   'js/datepicker.js' %}
      <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
  {% endblock %}